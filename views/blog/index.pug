extends ../layout.pug

block content
  .no-padding.col-lg-8.col-md-8.col-sm-8.col-xs-12
    each article in articles
      #article.col-lg-8.col-md-8.col-sm-8.col-xs-12
        a(href='/article/' + article.url) #[.header= article.title]
        .info.col-lg-12.col-md-12.col-sm-12.col-xs-12
          .pull-left #{parse.article.created(article.created)} - #{parse.article.views(article.views.ip.length)}
          .pull-right= article.category.title
        .preview
          p!= marked(nl2br(escapeHtml(preview(article.content))))

        if article.content.length >= previewStringLength
          .more
            a(href='/article/' + article.url) Read more 

  .col-lg-4.col-md-4.col-sm-4.col-xs-12
    #article-old
      .header Other articles
      .list
        if (old.length > 0)
          each article in old
            a(href='/article/' + article.url) #[li.article #{article.title}]
          .archive
            a(href='archive') Archive
        else
          b There isn't enough articles to display old ones.
